<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/quiz.css">
    <title>Quiz de cultura</title>
</head>
<body>
    <div class="navbar">
        <div class="nav-items">
            <a href="index.html"><div class="logo"></div></a>
            <p class="titulo-nav"><a href="index.html">Deep<span>Blue</span></a></p>
        </div>
        <div class="nav-items2">
            <a href="index.html#sessao-historia"><p>Cultura</p></a>
            <a href="sobremim.html"><p>Sobre mim</p></a>
            <a href="quiz.html"><p>Quiz</p></a>
            <a href="login.html"><button class="btn btn-entrar">Entrar</button></a>
            <a href="cadastro.html"><button class="btn btn-cadastro">Cadastro</button></a>
        </div>
    </div>

    <div class="todo-conteudo-quiz">
        <div class="conteudo-quiz" id="conteudo_quiz"></div>
        <div class="botao-div">
            <button id="btn-enviar-dados" class="btn-enviar-quiz" onclick="enviarDados()">Finalizar</button>
        </div>
    </div> 

    <div class="rodape">
        <div class="sessao-rodape">
            <div class="titulo-nome">
                <p class="titulo-rodape">DeepBlue</p>
                <p class="paragrafo-rodape">Lorem ipsum dolor sit amet consectetur adipisicing elit. Est laboriosam earum, cumque odit, nesciunt modi accusamus omnis voluptas minima incidunt ab tenetur rerum. Sunt iusto inventore voluptatibus, accusamus perferendis debitis?</p>
            </div>
            <div>
                <p class="titulo-rodape">Links</p>
                <p class="paragrafo-rodape">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Numquam, nostrum quas fugiat praesentium ratione ipsum. Nulla, iste praesentium accusamus voluptates velit sunt explicabo repellendus dolores expedita maiores ex eius. Deserunt.</p>
            </div>

            <div>
                <p class="titulo-rodape">Contato</p>
                <p class="paragrafo-rodape">Lorem ipsum dolor sit amet consectetur adipisicing elit. Error odit tenetur delectus quos iste voluptate ut ipsum recusandae asperiores debitis quia incidunt architecto quod praesentium, tempore dolor commodi et doloribus?</p>
            </div>
        </div>
        <div class="rodape-links">
            <p class="paragrafo-rod">Lorem ipsum dolor, sit amet consectetur adipisicing elit.</p>
            <div class="icons">
                <a href="https://www.instagram.com/gabrielavmx/"><p class="icon"><i class="fa-brands fa-instagram icon fa-xl"></i></p></a>
                <a href=""><p class="icon"><i class="fa-brands fa-linkedin icon fa-xl"></i></p></a>
                <a href="https://github.com/gabrielavmxx"><p class="icon"><i class="fa-brands fa-github icon fa-xl"></i></p></a>
            </div>
        </div>
    </div>
</body>
</html>

<script>
    const quiz = 
    [
        {
            pergunta: "De onde vem o gesto 'hangloose'?",
            opcoes: 
            [
            "Rei Luís XIV",
            "Rei Osíris",
            "Rei Ninrode",
            "Rei Tahito" //<- essa é a certa
            ]
        },
        {
            pergunta: "De que país o surf é originado?",
            opcoes: 
            [
            "Austrália",
            "Polinésia", //<- essa é a certa
            "Tailândia",
            "Indonésia"
            ]
        },
        {
            pergunta: "Quantos metros tem a maior onda surfada?",
            opcoes: 
            [
            "32 Metros",
            "26 Metros",
            "27 Metros",
            "33 Mettros" //<- essa é a certa
            ]
        },
        {
            pergunta: "Qual surfista tem a maior quantidade de tiulos na história?",
            opcoes: 
            [
            "Kelly Slater", //<- essa é a certa
            "Gabriel Medina",
            "Tom Curren",
            "John John Florence"
            ]
        },
        {
            pergunta: "Quantos metros tem a maior prancha do mundo?",
            opcoes: 
            [
            "3 Metros",
            "6 Metros",
            "9 Metros",
            "12 Metros" //<- essa é a certa
            ]
        },
        {
            pergunta: "Qual foi o maior numero de pessoas em cima da mesma prancha?",
            opcoes: 
            [
            "42 Pessoas",
            "20 Pessoas",
            "47 Pessoas", //<- essa é a certa
            "32 Pessoas" 
            ]
        },
        {
            pergunta: "Em que país o surf era conhecido como 'esporte dos deuses'?",
            opcoes: 
            [
                "Indonésia",
                "Austrália",
                "Polinésia", //<- essa é a certa
                "Tailândia"
            ]
        }
    ]
    for(let i = 0; i < quiz.length; i++){

        if(!(i % 2 == 0)){
            conteudo_quiz.innerHTML += `
            <div class="background-cor" id="${i+1}">
                <div class="parte-cima">
                <div class="bloco-numero bloco-1"><p>${i+1}</p></div>
                <p class="perg-top">${quiz[i].pergunta}</p>
                </div>
                <div class="blocos-quiz">
                    <a href="#${i+2}" onclick="salvarDados('a', ${i})"><p class="pergunta p1">A)   ${quiz[i].opcoes[0]}</p></a>
                    <a href="#${i+2}" onclick="salvarDados('b', ${i})"><p class="pergunta p1">B)   ${quiz[i].opcoes[1]}</p></a>
                </div>
                <div class="blocos-quiz bloco-quiz-baixo">
                    <a href="#${i+2}" onclick="salvarDados('c', ${i})"><p class="pergunta p1">C)   ${quiz[i].opcoes[2]}</p></a>
                    <a href="#${i+2}" onclick="salvarDados('d', ${i})"><p class="pergunta p1">D)   ${quiz[i].opcoes[3]}</p></a>
                </div>
            </div>`

        }else{
        conteudo_quiz.innerHTML += `
        <div id="${i+1}"> 
            <div class="parte-cima">
                <div class="bloco-numero"><p>${i+1}</p></div>
                <p>${quiz[i].pergunta}</p>
            </div>
            <div class="blocos-quiz">
                <a href="#${i+2}" onclick="salvarDados('a', ${i})"><p class="pergunta">A)   ${quiz[i].opcoes[0]}</p></a>
                <a href="#${i+2}" onclick="salvarDados('b', ${i})"><p class="pergunta">B)   ${quiz[i].opcoes[1]}</p></a>
            </div>
            <div class="blocos-quiz bloco-quiz-baixo">
                <a href="#${i+2}" onclick="salvarDados('c', ${i})"><p class="pergunta">C)   ${quiz[i].opcoes[2]}</p></a>
                <a href="#${i+2}" onclick="salvarDados('d', ${i})"><p class="pergunta">D)   ${quiz[i].opcoes[3]}</p></a>
            </div>
        </div>`
        }
    }

    const respostass = 
    [
        quiz[0].opcoes.push,
        quiz[1].opcoes.push,
        quiz[2].opcoes.push,
        quiz[3].opcoes.push,
        quiz[4].opcoes.push,
        quiz[5].opcoes.push,
        quiz[6].opcoes.push
    ]
    const corretas = 
    [
        quiz[0].opcoes[3],
        quiz[1].opcoes[1],
        quiz[2].opcoes[3],
        quiz[3].opcoes[0],
        quiz[4].opcoes[3],
        quiz[5].opcoes[2],
        quiz[6].opcoes[2]
    ]

    console.log(corretas)
    console.log(respostass)

    for(let i = 0; i < quiz.length; i++){
        respostas.push()
    }

    function salvarDados(resposta, index){
        respostas[index] = resposta
    }

    function enviarDados(){
        console.log(respostas)
        fetch("http://localhost:3333/quiz/salvarRespostas", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            "idQuizServer": "2",
            "idUsuarioServer": sessionStorage.ID_USUARIO,
            "corretoServer": [],
            "resultadoServer": respostas
        }),
    })
    }
</script>